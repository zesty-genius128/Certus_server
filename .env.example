# Certus OpenFDA MCP Server - Environment Configuration Template
# Copy this file to .env and configure your settings

# =====================================
# FDA API Configuration (Recommended)
# =====================================

# FDA API Key - Increases rate limits from 1,000 to 120,000 requests per day
# Get your free API key at: https://open.fda.gov/apis/authentication/
# Without an API key, you're limited to 1,000 requests per day
OPENFDA_API_KEY=your_fda_api_key_here_optional_but_recommended

# =====================================
# Server Configuration
# =====================================

# Port - The port your MCP server will run on
# Default: 443 (requires sudo/root privileges)
# Healthcare IT Alternative: 3000, 8080, 8443
# For testing without root: use any port > 1024
PORT=3000

# Node Environment - Controls logging and error detail levels
# Options: development, production
# development = verbose logging, detailed error messages
# production = minimal logging, user-friendly error messages
NODE_ENV=development

# =====================================
# Advanced Configuration (Optional)
# =====================================

# Test Server URL - For running integration tests against specific server
# Used by npm test commands - leave blank to use default local server
# Examples:
#   - Local testing: http://localhost:3000
#   - Production testing: https://your-domain.com
# TEST_SERVER_URL=http://localhost:3000

# Continuous Integration Flag - Automatically set by GitHub Actions
# When true, skips certain tests that require live server
# Leave blank for normal operation
# CI=true

# =====================================
# Healthcare IT Deployment Notes
# =====================================

# For Hospital/Clinic Environments:
# - Use ports 3000, 8080, or 8443 to avoid requiring root privileges
# - Set NODE_ENV=production for minimal logging in production
# - Consider using a reverse proxy (nginx/Apache) for HTTPS termination
# - FDA API key recommended for higher rate limits in multi-user environments

# Security Considerations:
# - This server processes publicly available FDA data only
# - No patient data or PHI is handled by this server
# - FDA API key is not sensitive but should be kept private to your organization
# - Consider firewall rules to restrict access to authorized healthcare users only

# Load Balancer/Proxy Configuration:
# - If using behind a proxy, ensure health check endpoints are accessible:
#   - GET /health (server health status)
#   - GET /tools (available FDA tools)
#   - POST /mcp (MCP protocol endpoint)

# =====================================
# Quick Setup Instructions
# =====================================

# 1. Copy this file: cp .env.example .env
# 2. Edit .env with your preferred settings
# 3. Get FDA API key (optional): https://open.fda.gov/apis/authentication/
# 4. Choose appropriate port for your environment
# 5. Start server: npm start
# 6. Test: curl http://localhost:[PORT]/health

# =====================================
# Troubleshooting
# =====================================

# Port already in use:
#   - Change PORT to a different number (e.g., 3001, 8080)
#   - Or stop the existing service using that port

# Permission denied on port 443:
#   - Use PORT=3000 or higher (ports < 1024 require root)
#   - Or run with sudo (not recommended for security)

# FDA API rate limits:
#   - Get an API key to increase from 1,000 to 120,000 requests/day
#   - Monitor usage at /usage-stats endpoint

# Network connectivity issues:
#   - Ensure firewall allows outbound HTTPS (443) to api.fda.gov
#   - Check corporate proxy settings if behind firewall